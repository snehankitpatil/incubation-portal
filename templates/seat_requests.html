{% extends "base.html" %}
{% block content %}

<h1 class="page-title">Seat Change Requests</h1>

<table class="pill-table">
<tr>
    <th class="pill-th">Startup</th>
    <th class="pill-th">Current</th>
    <th class="pill-th">Requested</th>
    <th class="pill-th">User Note</th>
    <th class="pill-th">Status</th>
    <th class="pill-th">Action</th>
</tr>

{% for req, startup_name in requests %}
<tr class="pill-row">
    <td class="pill-td">{{ startup_name }}</td>

    <td class="pill-td">{{ req.current_seats }}</td>

    <td class="pill-td">
        {% if req.requested_seats > 0 %}
            +{{ req.requested_seats }}
        {% else %}
            {{ req.requested_seats }}
        {% endif %}
    </td>

    <td class="pill-td" style="max-width:300px;color:#555;">
        {{ req.user_note }}
    </td>

    <td class="pill-td">
        <span class="badge {{ req.status }}">
            {{ req.status }}
        </span>

        {% if req.decision %}
            <div style="font-size:12px;color:#777;">
                {{ req.decision }}
            </div>
        {% endif %}
    </td>

    <td class="pill-td">
        {% if req.status == "pending" %}
            <a class="btn btn-secondary"
               href="/seat-requests/{{ req.id }}/approve">
               Approve
            </a>

            <a class="btn btn-danger"
               href="/seat-requests/{{ req.id }}/reject">
               Reject
            </a>
        {% else %}
            <span style="color:#777;">
                Completed
            </span>
        {% endif %}
    </td>
</tr>
{% endfor %}
</table>

{% endblock %}
